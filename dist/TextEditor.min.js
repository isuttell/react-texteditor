/*!
 *                               __              __                   __             .___.__  __                
 * _______   ____ _____    _____/  |_          _/  |_  ____ ___  ____/  |_  ____   __| _/|__|/  |_  ___________ 
 * \_  __ \_/ __ \\__  \ _/ ___\   __\  ______ \   __\/ __ \\  \/  /\   __\/ __ \ / __ | |  \   __\/  _ \_  __ \
 *  |  | \/\  ___/ / __ \\  \___|  |   /_____/  |  | \  ___/ >    <  |  | \  ___// /_/ | |  ||  | (  <_> )  | \/
 *  |__|    \___  >____  /\___  >__|            |__|  \___  >__/\_ \ |__|  \___  >____ | |__||__|  \____/|__|   
 *              \/     \/     \/                          \/      \/           \/     \/                        
 * react-texteditor 0.1.2
 * Description: Rich Text Editor for React
 * Author: Isaac Suttell <isaac@isaacsuttell.com>
 * Homepage: https://github.com/isuttell/react-texteditor
 * Bugs: https://github.com/isuttell/react-texteditor/issues
 * License: MIT
 */
module.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,i);if(void 0!==l){if("value"in l)return l.value;var s=l.get;return void 0===s?void 0:s.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;e=u,t=i,n=a,o=!0,l=u=void 0}},s=n(2),u=o(s),c=n(3),d=o(c),p=n(1),f=o(p),h=n(4),m=o(h),y=function(e){function t(e){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={focus:!1},this.handleBodyClick=this.handleBodyClick.bind(this)}return i(t,e),a(t,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.handleBodyClick)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleBodyClick)}},{key:"handleBodyClick",value:function(e){if(this.state.focus===!0){for(var t=e.target,n=!1,o=d["default"].findDOMNode(this);t.parentNode;){if(n=t===o)return;t=t.parentNode}this.handleBlur(e)}}},{key:"handleCommand",value:function(e,t){return t.preventDefault(),document.execCommand(e,null,""),!1}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleBlur",value:function(e){this.setState({focus:!1}),this.props.onBlur(e)}},{key:"handleClick",value:function(){this.setState({focus:!0}),this.props.onFocus()}},{key:"handleKeyDown",value:function(e){switch(e.keyCode){case 13:this.props.onEnterKeyDown(e)}this.props.onKeyDown(e)}},{key:"renderContent",value:function(){return this.props.editable?u["default"].createElement(m["default"],{className:"text-editor--field",pasteAsPlain:this.props.pasteAsPlain,onChange:this.handleChange.bind(this),onBlur:this.handleBlur.bind(this),onKeyDown:this.handleKeyDown.bind(this),tabIndex:this.props.tabIndex,html:this.props.html}):u["default"].createElement("div",{className:"text-editor--field",dangerouslySetInnerHTML:{__html:this.props.html?this.props.html:""}})}},{key:"renderButton",value:function(e){var t=this.props.buttons[e];return t&&t.enabled?u["default"].cloneElement(t.comp,{key:t.command,className:(0,f["default"])("btn","btn-icon",t.comp.props.className),onClick:this.handleCommand.bind(this,t.command)}):t&&t.enabled?u["default"].createElement("button",{key:t.command,onClick:this.handleCommand.bind(this,t.command),className:(0,f["default"])("btn","btn-icon",t.iconClass),type:"button"}):null}},{key:"renderButtons",value:function(){if(!this.props.editable||!this.props.buttons)return null;var e=[];for(var t in this.props.buttons)this.props.buttons.hasOwnProperty(t)&&e.push(this.renderButton(t));return u["default"].createElement("div",{className:"text-editor--controls btn-group"},e)}},{key:"renderPlaceholder",value:function(){return window.navigator.userAgent.match(/MSIE/i)?null:this.props.editable&&this.props.placeholder?"string"!=typeof this.props.html||this.props.html.length>0?null:u["default"].createElement("span",{className:"text-editor--placeholder"},this.props.placeholder):null}},{key:"render",value:function(){var e=(0,f["default"])(this.props.className,"text-editor",{"text-editor--editable":this.props.editable,focus:this.state.focus});return u["default"].createElement("div",{className:e,onClick:this.handleClick.bind(this)},this.renderButtons(),this.renderPlaceholder(),this.renderContent())}}]),t}(u["default"].Component);t["default"]=y,y.defaultProps={className:"",editable:!1,html:"",tabIndex:void 0,pasteAsPlain:!0,onChange:function(){},onBlur:function(){},onFocus:function(){},onEnterKeyDown:function(){},onKeyDown:function(){},buttons:{bold:{enabled:!0,command:"bold",iconClass:"icon-format_bold"},italic:{enabled:!0,command:"italic",iconClass:"icon-format_italic"},underline:{enabled:!0,command:"underline",iconClass:"icon-format_underlined"}}},e.exports=t["default"]},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,i);if(void 0!==l){if("value"in l)return l.value;var s=l.get;return void 0===s?void 0:s.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;e=u,t=i,n=a,o=!0,l=u=void 0}},s=n(2),u=o(s),c=n(3),d=o(c),p=n(1),f=o(p),h=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.html!==d["default"].findDOMNode(this).innerHTML}},{key:"componentDidUpdate",value:function(){var e=d["default"].findDOMNode(this);this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html)}},{key:"emitChange",value:function(e,t){var n=d["default"].findDOMNode(this).innerHTML;t.target={value:n},n!==this.lastHtml&&this.props.onChange(t),"blur"===e&&this.props.onBlur(t),this.lastHtml=n}},{key:"stripTags",value:function(e){return e?e.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,""):""}},{key:"escapeHTML",value:function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}},{key:"handlePaste",value:function(e){if(this.props.pasteAsPlain===!0){e.preventDefault();var t=e.clipboardData.getData("text/plain");t=this.escapeHTML(t),document.execCommand("insertHTML",!1,t)}}},{key:"handleKeyDown",value:function(e){this.props.onKeyDown(e)}},{key:"render",value:function(){return u["default"].createElement("div",{className:(0,f["default"])(this.props.className),contentEditable:!0,tabIndex:this.props.tabIndex,onPaste:this.handlePaste.bind(this),onInput:this.emitChange.bind(this,"input"),onKeyUp:this.emitChange.bind(this,"keyUp"),onBlur:this.emitChange.bind(this,"blur"),onKeyDown:this.handleKeyDown.bind(this),dangerouslySetInnerHTML:{__html:this.props.html}})}}]),t}(u["default"].Component);t["default"]=h,h.defaultProps={tabIndex:void 0,pasteAsPlain:!0,onKeyDown:function(){},onChange:function(){},onBlur:function(){}},e.exports=t["default"]}]);